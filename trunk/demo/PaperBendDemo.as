package {	import org.papervision3d.core.proto.MaterialObject3D;			import flash.display.Bitmap;	import flash.display.BitmapData;	import flash.display.StageAlign;	import flash.display.StageQuality;	import flash.display.StageScaleMode;	import flash.events.Event;	import flash.events.MouseEvent;		import org.papervision3d.cameras.CameraType;	import org.papervision3d.materials.BitmapMaterial;	import org.papervision3d.materials.WireframeMaterial;	import org.papervision3d.objects.primitives.Plane;	import org.papervision3d.view.BasicView;		import com.as3dmod.ModifierStack;	import com.as3dmod.modifiers.Paper;	import com.as3dmod.plugins.pv3d.LibraryPv3d;		/**	 * @author Bartek Drozdz	 */	public class PaperBendDemo extends BasicView {		private var plane:Plane;		private var stack:ModifierStack;		private var paper:Paper;		public function PaperBendDemo() {			stage.quality = StageQuality.LOW;			stage.scaleMode = StageScaleMode.NO_SCALE;			stage.align = StageAlign.TOP_LEFT;			stage.showDefaultContextMenu = false;			stage.stageFocusRect = false;						super(800, 600, true, false, CameraType.TARGET);						var b:BitmapData = new BitmapData(500, 300, false);			b.perlinNoise(16, 16, 6, 6747, false, true);						var w:MaterialObject3D = new BitmapMaterial(b);			w.doubleSided = true;			plane = new Plane(w, 1000, 600, 24, 16);			scene.addChild(plane);						plane.rotationX = 60;			plane.rotationY = 20;						stack = new ModifierStack(new LibraryPv3d(), plane);//			paper = new Paper(2, .5);			paper = new Paper(2, 0);			stack.addModifier(paper);						camera.lookAt(plane);						startRendering();						stage.addEventListener(MouseEvent.MOUSE_WHEEL, onWheel);			stage.addEventListener(MouseEvent.MOUSE_WHEEL, onWheel);		}				private function onWheel(event:MouseEvent):void {			plane.rotationY += event.delta;		}		protected override function onRenderTick(event:Event = null):void {			var f:Number = mouseX / stage.stageWidth * 2;			//paper.force = f;			paper.force = f * 4;			//paper.angle = Math.PI * f;			//paper.offset = f / 2;			//paper.constraint = (f > 1) ? ModConstant.RIGHT : ModConstant.LEFT;			stack.apply();			super.onRenderTick(event);		}	}}